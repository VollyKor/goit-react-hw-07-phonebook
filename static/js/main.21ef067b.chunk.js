(this["webpackJsonpreact-basic-files"]=this["webpackJsonpreact-basic-files"]||[]).push([[0],{12:function(t,e,n){t.exports={list:"ContactList_list__3Bzhr",itemDesc:"ContactList_itemDesc__1GFfO",itemValue:"ContactList_itemValue__RgqbF",btn:"ContactList_btn__1GJLI"}},21:function(t,e,n){t.exports={input:"Filter_input__23gk5",label:"Filter_label__YS-jK"}},36:function(t,e,n){},40:function(t,e,n){},65:function(t,e,n){"use strict";n.r(e);var c={};n.r(c),n.d(c,"getContacts",(function(){return g})),n.d(c,"addContact",(function(){return w})),n.d(c,"deleteContact",(function(){return k}));var r={};n.r(r),n.d(r,"fetchContacts",(function(){return y}));var a={};n.r(a),n.d(a,"addContactR",(function(){return F})),n.d(a,"deleteContactR",(function(){return R})),n.d(a,"setContactR",(function(){return L})),n.d(a,"setFilterR",(function(){return D}));var o={};n.r(o),n.d(o,"getContacts",(function(){return M})),n.d(o,"getFilter",(function(){return T})),n.d(o,"getVisibleContacts",(function(){return U}));var s=n(1),u=(n(36),n(0)),i=n.n(u),l=n(13),b=n.n(l),j=(n(40),n(3)),f=n.n(j),d=n(7),p=n(22),O=n(9),h=n.n(O),m=n(67),v=n(11),x=n.n(v);x.a.defaults.baseURL="http://localhost:4040";var C,_,g=function(){var t=Object(d.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.get("/contacts");case 3:return e=t.sent,t.abrupt("return",e);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=Object(d.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.post("/contacts",e);case 3:return n=t.sent,t.abrupt("return",n);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),k=function(){var t=Object(d.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.delete("/contacts/".concat(e));case 3:return n=t.sent,t.abrupt("return",n);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),N=n(2),y=Object(N.c)("phonebook/fetchBooks",Object(d.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.getContacts();case 3:return e=t.sent,t.abrupt("return",e.data);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))),F=Object(N.b)("phonebook/addContact"),R=Object(N.b)("phonebook/deleteContact"),L=Object(N.b)("phonebook/setContacts"),D=Object(N.b)("phonebook/setFilter"),S=n(8),V=n(16),B=n(6),I=a.addContactR,J=a.deleteContactR,z=a.setFilterR,A=a.setContactR,E=Object(N.d)([],(C={},Object(S.a)(C,I,(function(t,e){var n=e.payload;return[].concat(Object(V.a)(t),[n])})),Object(S.a)(C,J,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),Object(S.a)(C,A,(function(t,e){return e.payload})),Object(S.a)(C,y.fulfilled,(function(t,e){return e.payload})),C)),G=Object(N.d)("",Object(S.a)({},z,(function(t,e){return e.payload}))),P=Object(N.d)(!1,(_={},Object(S.a)(_,y.pending,(function(){return!0})),Object(S.a)(_,y.fulfilled,(function(){return!1})),Object(S.a)(_,y.rejected,(function(){return!1})),_)),Q=Object(N.d)(null,Object(S.a)({},y.rejected,(function(t,e){return e.payload.message}))),q=Object(B.c)({contacts:E,filterQ:G,isLoading:P,error:Q}),K=n(14),M=function(t){return t.phonebook.contacts},T=function(t){return t.phonebook.filterQ},U=Object(K.a)([M,T],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e)}))})),X=n(4);function Y(){var t=Object(u.useState)(""),e=Object(p.a)(t,2),n=e[0],a=e[1],i=Object(u.useState)(""),l=Object(p.a)(i,2),b=l[0],j=l[1],O=Object(X.c)(o.getContacts),v=Object(X.b)();return Object(s.jsxs)("form",{className:h.a.form,onSubmit:function(t){if(t.preventDefault(),n.length>0&&b.length>0){if(O.some((function(t){return t.name.includes(n)})))return alert("".concat(n," is already in contacts"));(function(){var t=Object(d.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.addContact({id:Object(m.a)(),name:n,phoneNumber:b});case 2:return 201===(e=t.sent).status?(v(r.fetchContacts()),x()):alert("someting goes wrong"),t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}},children:[Object(s.jsxs)("label",{className:h.a.label,children:[Object(s.jsx)("span",{children:"Name"}),Object(s.jsx)("input",{type:"text",className:h.a.input,value:n,onChange:function(t){a(t.target.value)}})]}),Object(s.jsxs)("label",{className:h.a.label,children:[Object(s.jsx)("span",{children:"Phone number"}),Object(s.jsx)("input",{type:"text",className:h.a.input,value:b,onChange:function(t){j(t.target.value)}})]}),Object(s.jsx)("button",{type:"submit",className:h.a.btn,children:"Add contact"})]});function x(){a(""),j("")}}var H=n(12),W=n.n(H);function Z(){var t=o.getVisibleContacts,e=Object(X.c)(t),n=Object(X.b)(),a=function(){var t=Object(d.a)(f.a.mark((function t(e){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.deleteContact(e);case 2:return 200===(a=t.sent).status?n(r.fetchContacts()):alert("something goes wrong"),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("ul",{className:W.a.list,children:e.map((function(t){return Object(s.jsxs)("li",{className:W.a.item,children:[Object(s.jsxs)("p",{className:W.a.itemValue,children:[Object(s.jsxs)("span",{children:[" ",t.name,": "]}),Object(s.jsx)("span",{children:t.phoneNumber})]}),Object(s.jsx)("button",{className:W.a.btn,onClick:function(){return a(t.id)},children:"delete"})]},t.id)}))})})}var $=n(21),tt=n.n($);function et(){var t=Object(X.c)(T),e=Object(X.b)();return Object(s.jsx)("div",{className:"filter",children:Object(s.jsxs)("label",{className:tt.a.label,children:[Object(s.jsx)("span",{children:"Filter "}),Object(s.jsx)("input",{type:"text",className:tt.a.input,value:t,onChange:function(t){return e(D(t.target.value))}})]})})}var nt=function(){Object(X.c)(M);var t=Object(X.b)();return Object(u.useEffect)((function(){t(y())}),[t]),Object(s.jsxs)("main",{className:"container",children:[Object(s.jsx)("h1",{children:"Phone Book"}),Object(s.jsx)(Y,{}),Object(s.jsx)("h2",{children:"Contact List"}),Object(s.jsx)(et,{}),Object(s.jsx)(Z,{})]})},ct=n(33),rt=n.n(ct),at=[].concat(Object(V.a)(Object(N.e)()),[rt.a]),ot=Object(N.a)({reducer:{phonebook:q},devTools:!1,middleware:at});b.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(X.a,{store:ot,children:Object(s.jsx)(nt,{})})}),document.getElementById("root"))},9:function(t,e,n){t.exports={btn:"Form_btn__XrRzD",form:"Form_form__10Aad",input:"Form_input__2Dno4",label:"Form_label__IDocd"}}},[[65,1,2]]]);
//# sourceMappingURL=main.21ef067b.chunk.js.map